<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Aura Fugaz Beauty</title>
  <meta name="theme-color" content="#1a1a1a">
  <style>
    :root {
      --negro: #1a1a1a;
      --rosa: #f8c8dc;
      --lila: #d5b3f0;
      --blanco: #fff;
    }
    body {
      margin: 0;
      font-family: 'Arial', sans-serif;
      background: var(--negro);
      color: var(--blanco);
    }
    header {
      text-align: center;
      padding: 1rem;
      background: var(--negro);
      border-bottom: 2px solid var(--lila);
      position: relative;
    }
    header img {
      max-width: 180px;
    }
    #btn-menu {
      position: absolute;
      left: 1rem;
      top: 0.4rem;
      background: var(--lila);
      color: var(--negro);
      border: none;
      font-size: 1.5rem;
      border-radius: 6px;
      padding: 0.2rem 0.6rem;
      cursor: pointer;
      z-index: 1001;
    }
    #menu-lateral {
      position: fixed;
      top: 0;
      left: 0;
      width: 220px;
      height: 100%;
      background: var(--negro);
      border-right: 1px solid var(--lila);
      overflow-y: auto;
      padding: 1rem;
      z-index: 1000;
      transform: translateX(-100%);
      transition: transform 0.3s ease;
    }
    #menu-lateral.abierto {
      transform: translateX(0);
    }
    #menu-lateral::after {
      position: absolute;
      top: 10px;
      right: 100px;
      font-size: 1.3rem;
      color: var(--lila);
      cursor: pointer;
    }
    #menu-lateral h3 {
      color: var(--rosa);
      margin-bottom: 1rem;
    }
    .categoria {
      margin-bottom: 1rem;
    }
    .subcategoria {
      margin-left: 1rem;
      font-size: 0.9rem;
      color: var(--lila);
      cursor: pointer;
    }
    #productos {
      padding: 1rem;
      margin-left: 0;
    }
    .seccion-categoria {
      margin-bottom: 2rem;
    }
    .titulo-categoria {
      color: var(--rosa);
      font-size: 1.3rem;
      margin: 0.5rem 0;
    }
    .carrusel {
      display: flex;
      overflow-x: auto;
      gap: 1rem;
      padding-bottom: 0.5rem;
    }
    .carrusel::-webkit-scrollbar {
      height: 6px;
    }
    .carrusel::-webkit-scrollbar-thumb {
      background: var(--rosa);
      border-radius: 3px;
    }
    .producto {
      min-width: 150px;
      background: #2a2a2a;
      border-radius: 10px;
      padding: 1rem;
      text-align: center;
      transition: transform 0.3s ease;
    }
    .producto:hover {
      transform: scale(1.05);
      box-shadow: 0 0 12px var(--lila);
    }
.producto img {
  width: 100%;
  max-width: 160px;
  height: auto;
  margin: 0 auto 0.5rem;
  border-radius: 8px;
}
    .producto h4 {
      margin: 0.5rem 0 0.3rem;
      font-size: 1rem;
    }
    .producto button {
      background: var(--rosa);
      color: var(--negro);
      border: none;
      padding: 0.4rem 1rem;
      border-radius: 20px;
      cursor: pointer;
      font-weight: bold;
    }
  #carrito-icono {
  position: fixed;
  top: 2rem;            /* Posici√≥n arriba */
  right: 1rem;          /* Pegado al borde derecho */
  background: var(--lila);
  color: var(--negro);
  border-radius: 50%;
  width: 50px;
  height: 50px;
  font-size: 24px;
  display: flex;
  justify-content: center;
  align-items: center;
  cursor: pointer;
  z-index: 999;
  box-shadow: 0 0 10px var(--rosa);
  animation: brillar 2s infinite alternate;
}
    @keyframes brillar {
      0% { box-shadow: 0 0 10px var(--rosa); }
      100% { box-shadow: 0 0 20px var(--lila); }
    }
#carrito {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 90%;
  max-width: 400px;
  height: auto;
  max-height: 90vh;
  background: #1c1c1c;
  border: 2px solid var(--lila);
  border-radius: 12px;
  padding: 1.5rem;
  overflow-y: auto;
  z-index: 998;
  display: none;
  box-shadow: 0 0 20px var(--lila);
}
    #carrito h2 {
      color: var(--rosa);
      text-align: center;
      margin-bottom: 1rem;
    }
    .item-carrito {
      border-bottom: 1px solid var(--rosa);
      padding: 0.5rem 0;
      font-size: 0.9rem;
    }
    #form-cliente input, #form-cliente select {
      width: 100%;
      margin-bottom: 0.5rem;
      padding: 0.4rem;
      border-radius: 6px;
      border: none;
      background: #2d2d2d;
      color: var(--blanco);
      border: 1px solid var(--lila);
    }
    #resumen-total {
      margin: 1rem 0;
      font-weight: bold;
      text-align: center;
      color: var(--lila);
    }
    #btn-whatsapp {
      background: var(--rosa);
      color: var(--negro);
      padding: 0.6rem;
      border-radius: 20px;
      border: none;
      width: 100%;
      font-weight: bold;
      cursor: pointer;
    }
    @media(min-width: 768px) {
    #menu-lateral {
  transform: translateX(-100%); /* cerrado */
  transition: transform 0.3s ease;
}
#menu-lateral.abierto {
  transform: translateX(0); /* abierto solo al hacer clic */
}
    }
    .marquee {
  background-color: var(--lila);
  color: var(--negro);
  padding: 0.4rem 0;
  overflow: hidden;
  white-space: nowrap;
  font-weight: bold;
  font-size: 0.9rem;
  position: relative;
  z-index: 1000;
}

.marquee-contenido {
  display: inline-block;
  padding-left: 100%;
  animation: marqueeAnim 15s linear infinite;
}

@keyframes marqueeAnim {
  0% { transform: translateX(0); }
  100% { transform: translateX(-100%); }
}
    
  </style>
</head>
<body>
  <div class="marquee">
  <div class="marquee-contenido">
    üíå Env√≠os a todo el pa√≠s &nbsp; üíå Env√≠os a todo el pa√≠s &nbsp; üíå Env√≠os a todo el pa√≠s &nbsp; üíå Env√≠os a todo el pa√≠s
  </div>
</div>
<header>
  <button id="btn-menu" onclick="toggleMenu()">‚ò∞</button>
  <img src="logo.png" alt="Aura Fugaz Beauty" />
  
</header>

<div id="menu-lateral">
  <p>‚ô•</p>
  <span id="cerrar-menu" style="position:absolute;top:10px;right:10px;font-size:1.3rem;color:var(--lila);cursor:pointer;">‚úñ</span>
  <h3>Categor√≠as</h3>
<div class="categoria">
  <strong>Maquillaje</strong>
<div class="subcategoria" onclick="filtrarSubcategoria('Labiales')">Labiales</div>
<div class="subcategoria" onclick="filtrarSubcategoria('Rubores')">Rubores</div>
</div>
<div class="categoria">
  <strong>Accesorios</strong>
  <div class="subcategoria" onclick="filtrarSubcategoria('Brochas')">Brochas</div>
</div>
<div class="subcategoria">
  <strong onclick="filtrarSubcategoria('Todo')" style="color: var(--rosa); cursor:pointer;">üõçÔ∏è Ver Todo</strong>
</div>
</div>

<main id="productos"></main>
<div id="carrito-icono" onclick="toggleCarrito()">üõí</div>
<div id="carrito">
  <span id="cerrar-carrito" style="position:absolute;top:10px;right:10px;font-size:1.5rem;color:var(--lila);cursor:pointer;">‚úñ</span>
  <h2>Tu carrito</h2>
  <div id="items-carrito"></div>
  <form id="form-cliente">
    <input type="text" id="nombre" placeholder="Tu nombre" required />
    <select id="ciudad">
      <option disabled selected>Selecciona ciudad</option>
      <option value="Quito">Quito</option>
      <option value="Guayaquil">Guayaquil</option>
      <option value="Cuenca">Cuenca</option>
      <option value="Otra">Otra</option>
    </select>
    <select id="pago">
      <option disabled selected>Forma de pago</option>
      <option value="Transferencia">Transferencia</option>
      <option value="Contra entrega">Contra entrega</option>
    </select>
  </form>
  <div id="resumen-total">
    Subtotal: $<span id="subtotal">0.00</span><br>
    Env√≠o: $<span id="envio">0.00</span><br>
    <strong>Total: $<span id="total">0.00</span></strong>
  </div>
  <button id="btn-whatsapp" onclick="enviarWhatsApp()">Enviar pedido</button>
</div>
<script>
  const productos = [
    {
      id: 1,
      nombre: "Cristal Jelly Lip Oil",
      categoria: "Maquillaje",
      subcategoria: "Labiales",
      precio: 2.5,
      tonos: {
        "Rosa Cristal": { imagenes: ["img/Lipoilr.jpg", "img/Lipoilr1.jpg"], stock: 2 },
        "Lila Cristal": { imagenes: ["img/Lipoilm.jpg", "img/Lipoilm1.jpg"], stock: 2 },
"Verde Cristal": { imagenes: ["img/Lipoilv.jpg", "img/Lipoilv1.jpg"], stock: 3 }
      }
    },
    {
      id: 2,
      nombre: "Rubor Jelly",
      categoria: "Maquillaje",
      subcategoria: "Rubores",
      precio: 3,
      tonos: {
        "Tono 1": { imagenes: ["img/Jellym1.0.jpg","img/Jellym1.jpg"], stock: 1 },
        "Tono 2": { imagenes: ["img/Jellym2.0.jpg","img/Jellym2.jpg"], stock: 1 }
      }
    },
{
id: 3,
      nombre: "Rubor en Polvo Gege Bear",
      categoria: "Maquillaje",
      subcategoria: "Rubores",
      precio: 3,
      tonos: {
        "Tono 1": { imagenes: ["img/Rubor.jpg","img/Rub1.jpg","img/Rub1.0.jpg"], stock: 1 },
        "Tono 2": { imagenes: ["img/Rubor.jpg","img/Rub2.jpg","img/Rub2.0.jpg"], stock: 1 },
        "Tono 3": { imagenes: ["img/Rubor.jpg","img/Rub3.jpg","img/Rub3.0.jpg"], stock: 1 },
        "Tono 4": { imagenes: ["img/Rubor.jpg","img/Rub4.jpg","img/Rub4.0.jpg"], stock: 1 }
      }
    },
      
    {
      id: 4,
      nombre: "Set de Brochas Cute",
      categoria: "Accesorios",
      subcategoria: "Brochas",
      precio: 12.0,
      imagenes: ["brochas1.jpg", "brochas2.jpg"]
    }
  ];

  const carrito = [];

  const menu = document.getElementById("menu-lateral");
  const contenedor = document.getElementById("productos");
  const itemsCarrito = document.getElementById("items-carrito");

function toggleMenu() {
  const btnMenu = document.getElementById("btn-menu");
  const menu = document.getElementById("menu-lateral");

  menu.classList.add("abierto");
  btnMenu.style.display = "none"; // Oculta el bot√≥n ‚ò∞
}
document.getElementById("cerrar-menu").addEventListener("click", function() {
  document.getElementById("menu-lateral").classList.remove("abierto");
  document.getElementById("btn-menu").style.display = "inline-block"; // vuelve a mostrar el √≠cono ‚ò∞
});

function cerrarMenu() {
  const btnMenu = document.getElementById("btn-menu");
  const menu = document.getElementById("menu-lateral");

  menu.classList.remove("abierto");
  btnMenu.style.display = "block"; // Vuelve a mostrar el bot√≥n ‚ò∞
}

  function toggleCarrito() {
    const carritoDiv = document.getElementById("carrito");
    carritoDiv.style.display = carritoDiv.style.display === "block" ? "none" : "block";
  }

  function mostrarProductos() {
    const categorias = [...new Set(productos.map(p => p.categoria))];
    categorias.forEach(cat => {
      const seccion = document.createElement("section");
      seccion.className = "seccion-categoria";
seccion.dataset.categoria = cat;
      seccion.innerHTML = `<h2 class="titulo-categoria">${cat}</h2><div class="carrusel"></div>`;
      const carrusel = seccion.querySelector(".carrusel");

      productos.filter(p => p.categoria === cat).forEach(producto => {
        let imagen = "";
        if (producto.tonos) {
          const primerTono = Object.keys(producto.tonos)[0];
          imagen = producto.tonos[primerTono].imagenes[0];
        } else if (producto.imagenes) {
          imagen = producto.imagenes[0];
        }

        const div = document.createElement("div");
      div.className = "producto";
      div.dataset.subcategoria = producto.subcategoria || "";
        div.setAttribute("data-subcategoria", producto.subcategoria || ""); // üëà AGREGADO
        div.innerHTML = `
          <img src="${imagen}" alt="${producto.nombre}" onclick="mostrarImagenGrande('${imagen}')" style="cursor:pointer;" />
          <h4>${producto.nombre}</h4>
          <p>$${producto.precio.toFixed(2)}</p>
          <button onclick="abrirModal(${producto.id})">Ver</button>
        `;
        carrusel.appendChild(div);
      });

      contenedor.appendChild(seccion);
    });
  }
  function filtrarSubcategoria(nombre) {
  const secciones = document.querySelectorAll(".seccion-categoria");

  secciones.forEach(seccion => {
    const productos = seccion.querySelectorAll(".producto");
    let visibles = 0;

    productos.forEach(p => {
      const sub = p.dataset.subcategoria || "";
      if (nombre === "Todo" || sub === nombre) {
        p.style.display = "block";
        visibles++;
      } else {
        p.style.display = "none";
      }
    });

    // Muestra la secci√≥n solo si hay productos visibles
    seccion.style.display = visibles > 0 ? "block" : "none";
  });

  // Cierra el men√∫ si est√° abierto (opcional)
  menu.classList.remove("abierto");
}

  function abrirModal(id) {
    const producto = productos.find(p => p.id === id);
    let galeriaHTML = "";

    if (producto.tonos) {
      const tonos = Object.keys(producto.tonos);
      galeriaHTML = producto.tonos[tonos[0]].imagenes.map(url => `
  <img src="${url}" style="width:100px;border-radius:8px;cursor:pointer;" onclick="mostrarImagenGrande('${url}')" />
`).join("");
    } else if (producto.imagenes) {
      galeriaHTML = producto.imagenes.map(url => `<img src="${url}" style="width:100px;border-radius:8px;" />`).join("");
    }

    let selectorTonoHTML = "";
    if (producto.tonos) {
      selectorTonoHTML = `
        <select id="selector-tono" style="width:100%;margin-bottom:1rem;">
          ${Object.keys(producto.tonos).map(t => `<option value="${t}">${t}</option>`).join("")}
        </select>
      `;
    }

    let html = `
      <div id="modal" style="position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.85);z-index:9999;display:flex;justify-content:center;align-items:center;">
        <div style="background:#1e1e1e;padding:1rem;border-radius:10px;width:90%;max-width:400px;">
          <h2 style="color:var(--rosa);text-align:center;">${producto.nombre}</h2>
          ${selectorTonoHTML}
          <div id="galeria-tono" style="display:flex;gap:0.5rem;overflow-x:auto;">
            ${galeriaHTML}
          </div>
          <div style="margin:1rem 0;">Cantidad: 
            <button onclick="cambiarCantidad(-1)">‚ûñ</button>
            <span id="cantidad">1</span>
            <button onclick="cambiarCantidad(1)">‚ûï</button>
          </div>
          <div style="text-align:center;">
            <button onclick="agregarAlCarrito(${producto.id})" style="background:var(--rosa);border:none;padding:0.5rem 1rem;border-radius:20px;">Agregar al carrito</button>
            <button onclick="cerrarModal()" style="margin-left:0.5rem;background:#888;border:none;padding:0.5rem 1rem;border-radius:20px;">Cerrar</button>
          </div>
        </div>
      </div>`;

    document.body.insertAdjacentHTML("beforeend", html);

    if (producto.tonos) {
      document.getElementById("selector-tono").addEventListener("change", function (e) {
  const tono = e.target.value;
  const imagenes = producto.tonos[tono].imagenes;
  const galeriaHTML = imagenes.map(url => `
    <img src="${url}" 
         style="width:100px;border-radius:8px;cursor:pointer;" 
         onclick="mostrarImagenGrande('${url}')" />
  `).join("");
  document.getElementById("galeria-tono").innerHTML = galeriaHTML;
});
    }
  }

  function cambiarCantidad(valor) {
    const cantidadSpan = document.getElementById("cantidad");
    let cantidad = parseInt(cantidadSpan.textContent);
    cantidad = Math.max(1, cantidad + valor);
    cantidadSpan.textContent = cantidad;
  }

  function cerrarModal() {
    const modal = document.getElementById("modal");
    if (modal) modal.remove();
  }

  function agregarAlCarrito(id) {
    const producto = productos.find(p => p.id === id);
    const cantidad = parseInt(document.getElementById("cantidad").textContent);
    let tono = "√önico";

    if (producto.tonos) {
      tono = document.getElementById("selector-tono").value;
      const stock = producto.tonos[tono].stock;
      if (cantidad > stock) {
        alert(`Solo hay ${stock} en stock para ${tono}`);
        return;
      }
      producto.tonos[tono].stock -= cantidad;
    }

    carrito.push({ ...producto, cantidad, tono });
    actualizarCarrito();
    cerrarModal();
  }

function actualizarCarrito() {
  itemsCarrito.innerHTML = "";
  let subtotal = 0;

  carrito.forEach((item, index) => {
    subtotal += item.precio * item.cantidad;

    let imagen = "";
    if (item.tonos && item.tonos[item.tono]) {
      imagen = item.tonos[item.tono].imagenes[0];
    } else if (item.imagenes) {
      imagen = item.imagenes[0];
    }

    const div = document.createElement("div");
    div.className = "item-carrito";
    div.style.display = "flex";
    div.style.alignItems = "center";
    div.style.gap = "0.5rem";

    div.innerHTML = `
      <img src="${imagen}" style="width:40px;height:40px;border-radius:6px;" alt="${item.nombre}">
      <div style="flex:1;">
        ${item.nombre} (${item.tono})<br>x${item.cantidad} = $${(item.precio * item.cantidad).toFixed(2)}
      </div>
      <button onclick="eliminarDelCarrito(${index})"
        style="background:none;border:none;color:#f88;font-weight:bold;font-size:1.2rem;cursor:pointer;">
        ‚ùå
      </button>
    `;
    itemsCarrito.appendChild(div);
  });


  const ciudad = document.getElementById("ciudad").value;
  let envio = 0;
  if (ciudad === "Quito") envio = 2;
  else if (ciudad === "Guayaquil") envio = 3;
  else if (ciudad === "Cuenca") envio = 2.5;
  else if (ciudad === "Otra") envio = 4;

  const total = subtotal + envio;
  document.getElementById("subtotal").textContent = subtotal.toFixed(2);
  document.getElementById("envio").textContent = envio.toFixed(2);
  document.getElementById("total").textContent = total.toFixed(2);
}

  document.getElementById("ciudad").addEventListener("change", actualizarCarrito);

  function enviarWhatsApp() {
    const nombre = document.getElementById("nombre").value.trim();
    const ciudad = document.getElementById("ciudad").value;
    const pago = document.getElementById("pago").value;

    if (!nombre || !ciudad || !pago) {
      alert("Por favor completa todos los datos del cliente.");
      return;
    }

    let mensaje = `Hola, soy *${nombre}* y quiero pedir:\n\n`;
    carrito.forEach(p => {
      mensaje += `- ${p.nombre} (${p.tono}) x${p.cantidad} = $${(p.precio * p.cantidad).toFixed(2)}\n`;
    });

    mensaje += `\n*Ciudad:* ${ciudad}\n*Pago:* ${pago}`;
    mensaje += `\n*Subtotal:* $${document.getElementById("subtotal").textContent}`;
    mensaje += `\n*Env√≠o:* $${document.getElementById("envio").textContent}`;
    mensaje += `\n*Total:* $${document.getElementById("total").textContent}`;
    mensaje += `\n\nüíñ Gracias por confiar en Aura Fugaz Beauty`;

    const numero = "5939786910"; // reemplaza por tu n√∫mero de WhatsApp
    const url = `https://wa.me/${numero}?text=${encodeURIComponent(mensaje)}`;
    window.open(url, "_blank");
  }

  mostrarProductos();
  function filtrarPorSubcategoria(nombreSubcategoria) {
    const productos = document.querySelectorAll(".producto");
    productos.forEach(p => {
      const subcat = p.getAttribute("data-subcategoria");
      p.style.display = (subcat === nombreSubcategoria) ? "block" : "none";
    });
  }

  function mostrarTodos() {
    const productos = document.querySelectorAll(".producto");
    productos.forEach(p => p.style.display = "block");
  }
  function eliminarDelCarrito(index) {
  carrito.splice(index, 1);
  actualizarCarrito();
}
document.querySelectorAll('.subcategoria').forEach(sub => {
  sub.addEventListener('click', () => {
    cerrarMenu();
  });
});
document.querySelectorAll(".subcategoria").forEach(item => {
  item.addEventListener("click", () => {
    document.getElementById("menu-lateral").classList.remove("abierto");
    document.getElementById("btn-menu").style.display = "inline-block";
  });
});
function mostrarImagenGrande(url) {
  const modalImg = document.createElement("div");
  modalImg.style.position = "fixed";
  modalImg.style.top = "0";
  modalImg.style.left = "0";
  modalImg.style.width = "100%";
  modalImg.style.height = "100%";
  modalImg.style.background = "rgba(0,0,0,0.9)";
  modalImg.style.display = "flex";
  modalImg.style.justifyContent = "center";
  modalImg.style.alignItems = "center";
  modalImg.style.zIndex = "10000";
  modalImg.innerHTML = `
    <img src="${url}" style="max-width:90%;max-height:90%;border-radius:10px;" />
    <span onclick="this.parentElement.remove()" style="position:absolute;top:10px;right:20px;color:#fff;font-size:2rem;cursor:pointer;">‚úñ</span>
  `;
  document.body.appendChild(modalImg);
}
document.getElementById("cerrar-carrito").addEventListener("click", () => {
  document.getElementById("carrito").style.display = "none";
});
</script>
<footer>
  <div style="display: flex; flex-wrap: wrap; justify-content: center; gap: 2rem; padding: 1rem; text-align: left;">
    
      <p style="text-align:center; color:#888; margin-top:1rem;">üíñ Gracias por confiar en Aura Fugaz Beauty</p><!-- M√©todos de Pago -->
      <div style="width: 100%; text-align: left; margin-bottom: 2rem;">
  <h3 style="color: var(--rosa); font-size: 1.2rem;">üí≥ Formas de Pago</h3>
  <ul style="list-style: none; padding-left: 0; color: #ccc; font-size: 1.1rem;">
    <li style="margin-bottom: 0.5rem;"><span style="font-size: 1em;">üè¶</span> Transferencia Bancaria</li>
    <li style="margin-bottom: 0.5rem;"><span style="font-size: 1rem;">üí∞</span> Efectivo</li>
    <li style="margin-bottom: 0.5rem;"><span style="font-size: 1rem;">üì≤</span> Pago Online</li>
    <li style="margin-bottom: 0.5rem;"><span style="font-size: 1rem;">üì¶</span> Contra Entrega</li>
  </ul>
</div>

    <!-- M√©todos de Env√≠o -->
<div style="width: 100%; text-align: left; margin-bottom: 2rem;">
  <h3 style="color: var(--rosa); font-size: 1.2rem;">üöõ M√©todos de Env√≠o</h3>
  <ul style="list-style: none; padding-left: 0; color: #ccc; font-size: 1.1rem;">
    <li style="margin-bottom: 0.5rem;"><span style="font-size: 1rem;">üì¶</span> Servientrega</li>
    <li style="margin-bottom: 0.5rem;"><span style="font-size: 1rem;">üí∞</span> Efectivo</li>
    <li style="margin-bottom: 0.5rem;"><span style="font-size: 1rem;">üì≤</span> Pago Online</li>
    <li style="margin-bottom: 0.5rem;"><span style="font-size: 1.5rem;">üì¶</span> Contra Entrega</li>
  </ul>
</div>

</footer>
</body>
</html>